<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a dust_ode_control object. — dust_ode_control • dust2</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Create a dust_ode_control object. — dust_ode_control"><meta name="description" content="Create a control object for controlling the adaptive stepper for
systems of ordinary differential equations (ODEs). The returned
object can be passed into a continuous-time dust model on
initialisation."><meta property="og:description" content="Create a control object for controlling the adaptive stepper for
systems of ordinary differential equations (ODEs). The returned
object can be passed into a continuous-time dust model on
initialisation."><meta property="og:image" content="https://mrc-ide.github.io/dust2/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dust2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.28</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/dust2.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/design.html">Principles and design of dust</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Details</h6></li>
    <li><a class="dropdown-item" href="../articles/data.html">Comparing dust systems to data</a></li>
    <li><a class="dropdown-item" href="../articles/details.html">Details</a></li>
    <li><a class="dropdown-item" href="../articles/packaging.html">Packaging dust systems</a></li>
    <li><a class="dropdown-item" href="../articles/periodic.html">Periodic variables details</a></li>
    <li><a class="dropdown-item" href="../articles/writing.html">Writing dust2 systems</a></li>
    <li><a class="dropdown-item" href="../articles/migrating.html">Migrating from dust 1.x.x</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mrc-ide/dust2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create a dust_ode_control object.</h1>
      <small class="dont-index">Source: <a href="https://github.com/mrc-ide/dust2/blob/main/R/interface-continuous.R" class="external-link"><code>R/interface-continuous.R</code></a></small>
      <div class="d-none name"><code>dust_ode_control.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create a control object for controlling the adaptive stepper for
systems of ordinary differential equations (ODEs). The returned
object can be passed into a continuous-time dust model on
initialisation.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dust_ode_control</span><span class="op">(</span></span>
<span>  max_steps <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  atol <span class="op">=</span> <span class="fl">1e-06</span>,</span>
<span>  rtol <span class="op">=</span> <span class="fl">1e-06</span>,</span>
<span>  step_size_min <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  step_size_max <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  critical_times <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  debug_record_step_times <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  save_history <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-max-steps">max_steps<a class="anchor" aria-label="anchor" href="#arg-max-steps"></a></dt>
<dd><p>Maximum number of steps to take. If the
integration attempts to take more steps that this, it will
throw an error, stopping the integration.</p></dd>


<dt id="arg-atol">atol<a class="anchor" aria-label="anchor" href="#arg-atol"></a></dt>
<dd><p>The per-step absolute tolerance.</p></dd>


<dt id="arg-rtol">rtol<a class="anchor" aria-label="anchor" href="#arg-rtol"></a></dt>
<dd><p>The per-step relative tolerance.  The total accuracy
will be less than this.</p></dd>


<dt id="arg-step-size-min">step_size_min<a class="anchor" aria-label="anchor" href="#arg-step-size-min"></a></dt>
<dd><p>The minimum step size.  The actual minimum
used will be the largest of the absolute value of this
<code>step_size_min</code> or <code>.Machine$double.eps</code> (or the
single-precision equivalent once we support <code>float</code>-based
models).  If the integration attempts to make a step smaller than
this, it will throw an error, stopping the integration.</p></dd>


<dt id="arg-step-size-max">step_size_max<a class="anchor" aria-label="anchor" href="#arg-step-size-max"></a></dt>
<dd><p>The largest step size.  By default there is
no maximum step size (<code>Inf</code>) so the solver can take as large a
step as it wants to.  If you have short-lived fluctuations in
your rhs that the solver may skip over by accident, then specify
a smaller maximum step size here.</p></dd>


<dt id="arg-critical-times">critical_times<a class="anchor" aria-label="anchor" href="#arg-critical-times"></a></dt>
<dd><p>Vector of critical times.  These are times
where we guarantee that the integration will stop, and which you
can use for changes to parameters.  This can avoid the solver
jumping over short-lived departures from a smooth solution, and
prevent the solver having to learn where a sharp change in your
target function is.</p></dd>


<dt id="arg-debug-record-step-times">debug_record_step_times<a class="anchor" aria-label="anchor" href="#arg-debug-record-step-times"></a></dt>
<dd><p>Logical, indicating if the step
times should be recorded.  This should only be enabled for
debugging.  Step times can be retrieved via
<code><a href="dust_system_internals.html">dust_system_internals()</a></code>.</p></dd>


<dt id="arg-save-history">save_history<a class="anchor" aria-label="anchor" href="#arg-save-history"></a></dt>
<dd><p>Logical, indicating if we should save history
during running.  This should only be enabled for debugging.
Data can be retrieved via <code><a href="dust_system_internals.html">dust_system_internals()</a></code>, but the
format is undocumented.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A named list of class "dust_ode_control".  Do not modify
this after creation.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rich FitzJohn.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

